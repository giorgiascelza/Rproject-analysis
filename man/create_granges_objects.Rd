% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/4_create_granges_objects.R
\name{create_granges_objects}
\alias{create_granges_objects}
\title{Step 4: Create GenomicRanges Objects}
\usage{
create_granges_objects(summary_list, gtf_file_path)
}
\arguments{
\item{summary_list}{A list containing `gene_totals` and `peak_totals` vectors,
as produced by `summarize_data()`.}

\item{gtf_file_path}{Path to the `Homo_sapiens.GRCh38.114.gtf.gz` annotation file,
or a smaller version for examples.}
}
\value{
A list containing two named GenomicRanges objects:
  \itemize{
    \item `gr_expr`: A GRanges object for genes, with expression totals as metadata.
    \item `gr_peaks`: A GRanges object for peaks, with accessibility totals as metadata.
  }
}
\description{
This function takes summarized count vectors for genes and peaks and
converts them into GenomicRanges objects. It uses a GTF annotation file
to assign genomic coordinates to the genes.
}
\examples{
# This example demonstrates how to use this function as part of the
# full workflow, using the example data included in the package.

# First, find the paths to the example data using system.file()
example_data_dir <- system.file("extdata", "mini_pbmc3k", package = "Rproject")
example_gtf_path <- system.file("extdata", "mini_annotation.gtf.gz", package = "Rproject")

# Check if the example data exists before running
if (dir.exists(example_data_dir) && file.exists(example_gtf_path)) {

  # --- Run previous steps to generate the necessary input ---
  # Step 1 -> 3:
  dt_matrix_sample <- load_and_convert_matrix(example_data_dir)
  data_list_sample <- split_data(dt_matrix_sample)
  summary_list_sample <- summarize_data(data_list_sample)

  # --- Now, run the function we are demonstrating (Step 4) ---
  granges_list <- create_granges_objects(
    summary_list = summary_list_sample,
    gtf_file_path = example_gtf_path
  )

  # Display the structure of the output
  print(granges_list)
}
}
